"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs = require("fs");
const path = require("path");
const _ = require("lodash");
class ArbConverter {
    constructor(arbFileLocation, outputDir) {
        this.arbFileLocation = arbFileLocation;
        this.outputDir = outputDir;
    }
    convertToHierarchicalJson() {
        const content = fs.readFileSync(path.join(this.arbFileLocation), "utf8");
        const arbInJson = JSON.parse(content);
        const resourceIdKeys = Object.keys(arbInJson).filter(key => !_.startsWith(key, "@"));
        let resources = {};
        resourceIdKeys.forEach(key => {
            resources[key] = arbInJson[key];
        });
        const hierarchicalJson = JSON.stringify(resources);
        fs.writeFileSync(this.outputDir, hierarchicalJson);
    }
}
exports.ArbConverter = ArbConverter;
//# sourceMappingURL=arb.converter.js.map