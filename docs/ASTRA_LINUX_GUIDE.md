# REChain –¥–ª—è Astra Linux

## üõ°Ô∏è –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è Astra Linux

Astra Linux —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏–π. REChain –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Astra Linux.

## üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è Astra Linux

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏
- **Astra Linux Special Edition** (–ê–õ–°–ï) 1.7 –∏ –≤—ã—à–µ
- **Astra Linux Common Edition** (–ê–õ–°–û) 2.12 –∏ –≤—ã—à–µ
- **Astra Linux Orel** 2.12 –∏ –≤—ã—à–µ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- x86_64 (Intel/AMD 64-bit)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ –≠–ª—å–±—Ä—É—Å (—á–µ—Ä–µ–∑ AppImage)

## üîê –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –∑–∞—â–∏—â–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –°–∫–∞—á–∞–π—Ç–µ –ø–∞–∫–µ—Ç –∏–∑ –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
wget --no-check-certificate https://github.com/sorydima/REChain-/releases/latest/download/rechainonline-4.1.8-amd64.deb

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –ø–∞–∫–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sha256sum rechainonline-4.1.8-amd64.deb

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç
sudo dpkg -i rechainonline-4.1.8-amd64.deb

# –ò—Å–ø—Ä–∞–≤—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
sudo apt-get install -f
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –∑–∞—â–∏—â–µ–Ω–Ω–æ—Å—Ç–∏
```bash
# –î–ª—è —Å–∏—Å—Ç–µ–º —Å –º–∞–Ω–¥–∞—Ç–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–æ—Å—Ç—É–ø–∞
sudo pdpl-user -i rechainonline

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏
sudo dpkg --verify rechainonline-4.1.8-amd64.deb
sudo dpkg -i rechainonline-4.1.8-amd64.deb

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ—Ç–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo pdpl-file -l "–ù–µ—Å–µ–∫—Ä–µ—Ç–Ω–æ" /usr/bin/rechainonline
```

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ú–∞–Ω–¥–∞—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–µ—Ç–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo pdpl-file -l "–ù–µ—Å–µ–∫—Ä–µ—Ç–Ω–æ" /usr/share/rechainonline/

# –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
sudo pdpl-user -a rechainonline -u username

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
pdpl-file -L /usr/bin/rechainonline
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
```bash
# –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è Matrix
sudo ufw allow out 443/tcp comment "REChain HTTPS"
sudo ufw allow out 8448/tcp comment "REChain Matrix Federation"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏
export https_proxy=http://proxy.company.ru:8080
export http_proxy=http://proxy.company.ru:8080
```

## üè¢ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ú–∞—Å—Å–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Ansible
```yaml
# playbook.yml
---
- hosts: astra_workstations
  become: yes
  tasks:
    - name: Download REChain package
      get_url:
        url: https://github.com/sorydima/REChain-/releases/latest/download/rechainonline-4.1.8-amd64.deb
        dest: /tmp/rechainonline.deb
        
    - name: Install REChain
      apt:
        deb: /tmp/rechainonline.deb
        state: present
        
    - name: Configure security labels
      shell: pdpl-file -l "–ù–µ—Å–µ–∫—Ä–µ—Ç–Ω–æ" /usr/bin/rechainonline
```

### –ì—Ä—É–ø–ø–æ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –¥–æ–º–µ–Ω–∞
sudo mkdir -p /etc/rechainonline/
sudo tee /etc/rechainonline/config.json << EOF
{
  "homeserver": "https://matrix.company.ru",
  "identity_server": "https://identity.company.ru",
  "disable_guests": true,
  "disable_3pid_login": true,
  "brand": "–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π REChain"
}
EOF
```

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Astra Linux

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–∞–±–æ—á–∏–º —Å—Ç–æ–ª–æ–º Fly
```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
sudo cp /usr/share/applications/rechainonline.desktop /usr/share/applications/
sudo update-desktop-database

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
mkdir -p ~/.config/autostart/
cp /usr/share/applications/rechainonline.desktop ~/.config/autostart/
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–º–µ–Ω–æ–º Astra Linux
sudo realm join company.local
sudo authconfig --enablekrb5 --update

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SSO –¥–ª—è REChain
echo "auth.company.local" | sudo tee -a /etc/rechainonline/sso_domains.txt
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞—É–¥–∏—Ç

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É–¥–∏—Ç–∞
```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –∞—É–¥–∏—Ç–∞ –¥–ª—è REChain
sudo tee -a /etc/audit/rules.d/rechainonline.rules << EOF
-w /usr/bin/rechainonline -p x -k rechainonline_exec
-w /usr/share/rechainonline/ -p wa -k rechainonline_files
-w /home/*/.config/REChain/ -p wa -k rechainonline_user_config
EOF

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã –∞—É–¥–∏—Ç–∞
sudo systemctl restart auditd
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∑–∞–ø—É—Å–∫–∞
sudo journalctl -u rechainonline --since today

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–µ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
sudo netstat -tulpn | grep rechainonline

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
ps aux | grep rechainonline
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ –≤ Astra Linux

### –ü—Ä–æ–±–ª–µ–º—ã —Å –º–∞–Ω–¥–∞—Ç–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–æ—Å—Ç—É–ø–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö –º–µ—Ç–æ–∫
pdpl-file -L /usr/bin/rechainonline

# –°–±—Ä–æ—Å –º–µ—Ç–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo pdpl-file -c /usr/bin/rechainonline
sudo pdpl-file -l "–ù–µ—Å–µ–∫—Ä–µ—Ç–Ω–æ" /usr/bin/rechainonline

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
pdpl-user -L username
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç–µ–≤—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª
sudo iptables -L | grep -i matrix
sudo ufw status verbose

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
curl -v https://matrix.org/_matrix/client/versions

# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
nslookup matrix.org
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
echo $DISPLAY
echo $WAYLAND_DISPLAY

# –ó–∞–ø—É—Å–∫ —Å –æ—Ç–ª–∞–¥–∫–æ–π
WAYLAND_DEBUG=1 rechainonline

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ GTK
ldd /usr/share/rechainonline/rechainonline | grep gtk
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

### –ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–∏ Astra Linux
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –º–µ—Ç–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≥—Ä—É–ø–ø–æ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –∞—É–¥–∏—Ç–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ –≤ –¥–æ–º–µ–Ω–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–∞–±–æ—á–∏–º —Å—Ç–æ–ª–æ–º

### –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- [ ] –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- [ ] –ê—É–¥–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è Astra Linux

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞:**
- Email: astra-support@rechain.network
- –¢–µ–ª–µ—Ñ–æ–Ω: +7 (495) 123-45-67
- Telegram: @REChainAstraSupport

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ Astra Linux
- –ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ REChain
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥–æ–º–µ–Ω–æ–º

---

*–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è Astra Linux –≤–µ—Ä—Å–∏–∏ 4.1.8+1150*
*–°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏—è—Ö –†–§*
